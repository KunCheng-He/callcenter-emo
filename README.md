# CallCenter-EMO

> æœ¬é¡¹ç›®ç”¨äºå‘¼å«ä¸­å¿ƒçš„è¯­éŸ³æƒ…æ„Ÿè¯†åˆ«ç³»ç»Ÿï¼Œå‰ç«¯ä½¿ç”¨Vueï¼Œåç«¯ä½¿ç”¨Djangoå¼€å‘APIï¼Œä¸»è¦åˆ†ä¸¤ä¸ªåŠŸèƒ½æ¨¡å—ï¼š1. ç®¡ç†å‘˜ä¸Šä¼ å‘¼å«ä¸­å¿ƒä¸šåŠ¡éŸ³é¢‘ï¼Œåå°è‡ªåŠ¨è¿›è¡Œæƒ…æ„Ÿè¯†åˆ«ï¼›2. å®¡æŸ¥æ¨¡å‹æƒ…æ„Ÿè¯†åˆ«ç»“æœï¼Œå°†ä¸åˆç†çš„ç‰‡æ®µå‰ªè¾‘å‡ºæ¥ï¼Œå¹¶å¯¹æƒ…æ„Ÿè¿›è¡Œæ ‡æ³¨ï¼Œå·²å£®å¤§åŸå§‹è®­ç»ƒçš„è¯­æ–™åº“ã€‚

> ğŸš©ç®¡ç†å‘˜è´¦æˆ·æ‰å¯ä»¥ä¸Šä¼ éŸ³é¢‘ï¼Œå®¢æœç”¨æˆ·ä¸ä½¿ç”¨è¯¥ç³»ç»Ÿï¼Œä»…å±•ç¤ºä¸åŒå®¢æœçš„è´¨æ£€è¯„åˆ†ï¼Œå®¡æŸ¥ç”¨æˆ·ä¸èƒ½ä¸Šä¼ éŸ³é¢‘ï¼Œåªéœ€è¦åœ¨æœ¬ç³»ç»Ÿä¸Šå¯¹éŸ³é¢‘è¿›è¡Œå®¡æŸ¥å’Œå‰ªè¾‘å³å¯ã€‚

## ä¸€ã€ä½¿ç”¨è¯´æ˜

### å®‰è£…ç¯å¢ƒ(è¿™é‡Œä»¥Fedoraç³»ç»Ÿä¸ºä¾‹)

å®‰è£…å‰ç½®ä¾èµ–
```shell
# fedora
sudo dnf install mysql-devel ffmpeg

# debian
sudo apt install libmariadb-dev ffmpeg
```
> ğŸš¨ AI æç¤ºå¯ä»¥ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤å®‰è£… `ffmpeg` ï¼Œä½†æˆ‘æ²¡æœ‰æˆåŠŸï¼Œæç¤ºæ²¡æœ‰è¿™ä¸ªåŒ…ï¼Œå¯ä»¥è®¿é—®[ffmpegå®˜ç½‘](https://ffmpeg.org/download.html)å¤åˆ¶å‘½ä»¤ä¸‹è½½æºç ï¼Œç„¶åå‚è€ƒè¿™ç¯‡[CSDNåšå®¢](https://blog.csdn.net/PYJTRK/article/details/122846864)é€šè¿‡æºç ç¼–è¯‘å®‰è£…

å…‹éš†æœ¬ä»“åº“
```shell
git clone https://github.com/KunCheng-He/callcenter-emo.git
```

å®‰è£… `python` ç¯å¢ƒ å’Œ `nodejs`ï¼Œæ¨èä½¿ç”¨ `nvm` æ¥å®‰è£… `nodejs`ï¼Œ`python` æ¨èä½¿ç”¨ `conda` è¿›è¡Œåˆ›å»ºï¼Œæˆ‘ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ `3.10.13`ï¼Œä½ å¯ä»¥æ‰§è¡Œ `conda create -n cc-emo python=3.10` æ¥åˆ›å»ºç¯å¢ƒï¼Œä¹‹åæ‰§è¡Œ `conda activate cc-emo` æ¥æ¿€æ´»ç¯å¢ƒï¼Œå†æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å®‰è£…ä¾èµ–
```shell
pip install -r requirements.txt

nvm install 18.19.0
cd v3-frontend
npm install -g pnpm
pnpm i
```
ä»¥ä¸Šå‘½ä»¤å¦‚æœæç¤º `torch` ç­‰å®‰è£…å­˜åœ¨é—®é¢˜ï¼Œå¯ä»¥å°† `requirements.txt` ä¸­çš„ `torch` å’Œ `torchaudio` åˆ é™¤åå†è¿è¡Œï¼Œè¿™ä¸¤ä¸ªåŒ…å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å•ç‹¬å®‰è£…
```shell
pip install torch==2.0.0 torchaudio==2.0.1 --index-url https://download.pytorch.org/whl/cpu
```

### æ•°æ®åº“é…ç½®

å¯åŠ¨é¡¹ç›®éœ€è¦é…ç½® `mysql` å’Œ `redis` æ•°æ®åº“ï¼Œé…ç½®æ¨¡æ¿æ–‡ä»¶åœ¨ `/callcenter_emo/config-demo.py` ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å¤åˆ¶å‘½ä»¤ï¼Œåœ¨ `config.py` æ–‡ä»¶ä¸­å¡«å†™ä½ è‡ªå·±çš„æ•°æ®åº“é…ç½®ï¼ˆğŸ“Œå¦‚æœä½ è¿˜æœ‰åˆ›å»ºæ•°æ®åº“æœåŠ¡ï¼Œè¯·å…ˆå®‰è£…å¯¹åº”çš„æ•°æ®åº“æœåŠ¡ï¼Œå¯ä»¥é€šè¿‡ `docker` å‘½ä»¤å¿«é€Ÿçš„å¯åŠ¨æ•°æ®åº“æœåŠ¡ï¼Œå…·ä½“å‘½ä»¤è¿™é‡Œä¸å†è¯¦ç»†èµ˜è¿°ï¼‰
```shell
cd callcenter_emo
cp config-demo.py config.py
vim config.py
```
> `mysql` æ•°æ®åº“ç”¨äºå­˜å‚¨ç³»ç»Ÿæ•°æ®ï¼Œ`redis` æ•°æ®åº“æ˜¯ä½¿ç”¨ `celery` åº“åœ¨åå°æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡æ—¶éœ€è¦ã€‚ğŸš©ç‰¹åˆ«æé†’ï¼Œç³»ç»Ÿè®¿é—®æ•°æ®åº“çš„ç½‘ç»œéœ€è¦ä¿æŒç¨³å®šï¼Œä¸ç„¶ `celery` å†æ‰§è¡Œä»»åŠ¡æ—¶å¯èƒ½å› ä¸ºç½‘ç»œä¸ç¨³å®šè€Œå‡ºç°é—®é¢˜ï¼Œæˆ‘æ˜¯åœ¨åŒä¸€å°æœºå™¨é‡Œé€šè¿‡ `docker` æä¾›è¿™ä¸¤ä¸ªæœåŠ¡ã€‚

### æƒ…æ„Ÿè¯†åˆ«æ¨¡å‹å‚æ•°

> ğŸ“Œè¿›å…¥ç³»ç»ŸååŠ¡å¿…å…ˆä¸Šä¼ æ¨¡å‹å‚æ•°æ–‡ä»¶ï¼Œä¹‹åå†ä¸Šä¼ éŸ³é¢‘æ–‡ä»¶è¿›è¡Œè¯†åˆ«ğŸ“ŒğŸ“ŒğŸ“Œ

### å¯åŠ¨é¡¹ç›®

ä»¥ä¸Šéƒ½æ“ä½œå®Œæˆåï¼Œå¯ä»¥å¯åŠ¨é¡¹ç›®

```shell
# åˆå§‹åŒ–æ•°æ®åº“ä¸åˆ›å»ºç³»ç»Ÿç®¡ç†å‘˜
python manage.py makemigrations
python manage.py migrate
python manage.py createsuperuser

# å¯åŠ¨ celery åå°ä»»åŠ¡
celery -A cc_celery.main worker --loglevel=info

# å¯åŠ¨ django é¡¹ç›®
python manage.py runserver 0.0.0.0:8000

# å¯åŠ¨å‰ç«¯é¡¹ç›®
cd v3-frontend
pnpm dev
```
> ğŸ’¡è‡³æ­¤ï¼Œæ²¡æœ‰æ„å¤–çš„è¯ï¼Œæ•´ä¸ªé¡¹ç›®å°±å¯åŠ¨å®Œæˆäº†ï¼Œåç«¯ç«¯å£ä¸º `8000`ï¼Œå‰ç«¯ç«¯å£ä¸º `5173`

### åˆ›å»ºç”¨æˆ·è§’è‰²

æœ¬é¡¹ç›®ç°é˜¶æ®µåœ¨è®¾è®¡ä¸Šè¿˜å­˜åœ¨é—®é¢˜ï¼Œå‰ç«¯åœ¨åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¯ä»¥å®¡è®¡éŸ³é¢‘æ—¶ï¼Œæ˜¯é€šè¿‡åˆ¤æ–­ç”¨æˆ·çš„è§’è‰²IDæ¥ç¡®å®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆè¿›å…¥ `Django` çš„ `admin` åå°ï¼ŒæŒ‰åºåˆ›å»ºä¸¤ä¸ªç”¨æˆ·è§’è‰²
![åˆ›å»ºç”¨æˆ·è§’è‰²](./readMeFile/create_userrole.png)

> ğŸŒˆğŸŒˆğŸŒˆæ‰§è¡Œåˆ°è¿™ï¼Œæ•´ä¸ªé¡¹ç›®çš„åŸºæœ¬è®¾ç½®å°±å®Œæˆäº†ï¼Œå¯ä»¥è®¿é—®å‰ç«¯é¡µé¢äº†

## äºŒã€ç³»ç»Ÿé¡µé¢å±•ç¤º

+ ç™»å½•ä¸æ³¨å†Œ

![ç™»å½•](./readMeFile/login.png)
![æ³¨å†Œ](./readMeFile/register.png)

+ ä¸»é¡µ

![ä¸»é¡µ](./readMeFile/ä¸»é¡µ.png)

+ ä¸Šä¼ éŸ³é¢‘

![ä¸Šä¼ éŸ³é¢‘](./readMeFile/upload.png)

+ è´¨æ£€æŸ¥è¯¢ä¸è´¨æ£€æŠ¥å‘Šä¸‹è½½

![è´¨æ£€æŸ¥è¯¢](./readMeFile/è´¨æ£€æŸ¥è¯¢.png)
![æŸ¥çœ‹è¯¦æƒ…](./readMeFile/æŸ¥çœ‹è¯¦æƒ….png)

+ å®¡æŸ¥ä¸å‰ªè¾‘(ä¸‹å›¾ä¸ºå‰ç‰ˆç³»ç»Ÿï¼Œé¡µé¢åœ¨å½“å‰ç³»ç»Ÿçš„æƒ…æ„Ÿå®¡æŸ¥ç›®å½•ä¸‹ï¼Œé¡µé¢ä¸ºæ”¹åŠ¨ï¼Œä¸é‡æ–°æˆªå›¾)

![å®¡æŸ¥](./readMeFile/å®¡è®¡.png)
![å‰ªè¾‘](./readMeFile/å‰ªè¾‘.png)

+ æ¨¡å‹ä¸Šä¼ é¡µé¢

![æ¨¡å‹ä¸Šä¼ ](./readMeFile/æ¨¡å‹ä¸Šä¼ .png)

### ä¸‰ã€æš‚æ—¶å­˜åœ¨çš„é—®é¢˜

+ Chrome éŸ³é¢‘æ’­æ”¾å™¨å¯èƒ½æ˜¾ç¤ºä¸æ­£å¸¸
+ ç³»ç»Ÿå‰åç«¯é€»è¾‘å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œéœ€è¦è¿›ä¸€æ­¥å®Œå–„
+ ä¸Šä¼ ä¸­æ–‡å‘½åçš„æ–‡ä»¶æœ‰Bug
+ ç•¥

### å››ã€è‡´è°¢

+ æœ¬é¡¹ç›®å‰ç«¯é€šè¿‡ [un-pany/v3-admin-vite](https://github.com/un-pany/v3-admin-vite) æ¨¡æ¿ä¿®æ”¹è€Œæ¥ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢
+ å‰ç«¯ä½¿ç”¨ [staskobzar/vue-audio-visual](https://github.com/staskobzar/vue-audio-visual) ç»„ä»¶æ¥å±•ç¤ºéŸ³é¢‘æ’­æ”¾å™¨ä¸æ³¢å½¢å›¾ï¼Œæ„Ÿè°¢è¯¥ç»„ä»¶ä½œè€… [staskobzar](https://github.com/staskobzar) å¸®åŠ©è§£å†³é—®é¢˜ï¼š[issue1](https://github.com/staskobzar/vue-audio-visual/issues/148) [issue2](https://github.com/staskobzar/vue-audio-visual/issues/149)ï¼Œååˆ†æ„Ÿè°¢
+ ç•¥
